<!--#set var="TITLE" value="this is index" -->
<!--#include file="/header.html"-->

      <h2>Hello this is your website</h2>
      <hr/>

      <p>Here is some things your need to know:</p>

      <p>This content is formed from the `index.html` file located in `/www/` folder of your project.</p>

      <p>This file is static but formed from few parts: header, body and footer using standard <b>SSI Commands</b>, known as <a href="https://en.wikipedia.org/wiki/Server_Side_Includes" target="_blank">server side includes</a>.
      <br/>Note: not all commands are implemented.
      </p>

      <h3>Example:</h3>

<pre>
&lt;!--#set var="TITLE" value="this is index" --&gt;  &ndash; set internal variable used inside header.
&lt;!--#include file="/header.html"--&gt;             &ndash; including another file content as header.

    .. content ..

&lt;!--#include file="/footer.html"--&gt;
</pre>
    </p>

    <p>Webserver searches for static files inside `/www/` folder first and if they found serving them to user immidiately.</p>
    <p>The Django Backend is not even used at this stage. So it's stronlgy recommended to use <code>SSI powered</code> html files for your static pages.
    </p>

    <p>If you remove or rename `index.html` &dash; webserver will request django backend with route `/`.</p>
    <p>It will made a reverse proxy request for django powered index route content.
    <br/>This is defined in django `urls.py` like this:<br/>

<pre>
    urlpatterns = (
    path('a/admin/', admin.site.urls),  # &ndash; this is admin site route.
    path('', index) )                   # &ndash; this is <b>index route</b> and served if your static `index.html` 
                                        # is not found in `/www/` folder.
</pre>

    </p>
    
    <p><b>Important</b>: not any uri request sent to the django backend by default.
    <br/>Your uri should start with any single character directory prefix,
    <br/>like this: <code>`/a/someuri/`</code> or <code>`/x/asddfg/`</code>.
    </p>

    <p><b>Requests</b> that don't match the mask <code>`/?/*`</code> will result in `404` error page and <b>will not be</b> transferred to the django backend.</p>
    <p>But for root index route made an exclusion. If there is no static <code>/index.html</code> file in your <code>/www/</code> folder &dash; webserver will pass request uri: <code>`/`</code> to django backend.
    </p>

    <p>This architecture was choosed for secutiry and prefomance reasons, to save your django application bandwidth on live servers and protect it from scrapers and crawlers.
    </p>

    <p>So typical `urls.py` will look like:

<pre>
urlpatterns = (

    path('a/admin/', admin.site.urls),
    path('', index, name='idx'),     # this uri will be server only if you remove `/www/index.html` file.
    path('<b>x/</b>page/', somepage, name='somepage'),
    path('a/', TemplateView.as_view(template_name='static_pages/index.html')), # django driven static page
    re_path(r'^<b>t/</b>(?P&lt;slug&gt;[a-z-0-9]{2,20})/$', tag, name='tag'),
    re_path(r'^<b>p/</b>(?P&lt;slug&gt;[a-z-0-9]{4,60})/$', page, name='page'),

    ...
    ) 
</pre>

</p>

    <h2>Let's see this in action:</h2>
    <h3>Links to SSI powered html files:</h3>
    <header>
    <a href="/" role="button" target="_blank">/index.html</a>
    <a href="/about.html" role="button" target="_blank">/about.html</a>
    <a href="/contact.html" role="button" target="_blank">/contact.html</a>
    </header>

    <h3>Links to non existent pages, resulting 404 error:</h3>
    <header>
    <a href="/aaa/bbb/" role="button" target="_blank">/aaa/bbb/</a>
    <a href="/cc/dd/" role="button" target="_blank">/cc/dd/</a>
    </header>

<!--#include file="/menu.html"-->

    <h3>Standard django error page demo:</h3>
    <header>
    <a href="/a/xxx/" role="button" target="_blank">/a/xxx/ - a <b>404 page</b> error page served by django</a>
    </header>

    <br/>    
    <h3>Django admin login and password is: `admin`:`admin` by default.</h3>
    <br/>

<!--#include file="/footer.html"-->

